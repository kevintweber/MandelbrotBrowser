!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.RGB=0]="RGB",e[e.Greyscale=1]="Greyscale"}(t.ColorSchemeType||(t.ColorSchemeType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LineByLine=0]="LineByLine"}(t.AlgorithmType||(t.AlgorithmType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(17),r=n(1),a=n(0),c=n(18),s=document.getElementById("mandelbrot");s.height=window.innerHeight,s.width=window.innerWidth;var u=document.getElementById("selection");u.height=window.innerHeight,u.width=window.innerWidth;var l=new c.ParameterHandler;l.parseQueryParameters(window.location.search);var d=i.default(r.AlgorithmType.LineByLine,a.ColorSchemeType.RGB,s,l);o.registerSelectionBoxHandlers(u,d),d.generate()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(8),r=n(11),a=n(12),c=n(13),s=n(16);t.default=function(e,t,n,u){var l=r.default(u.width);console.log("Max iterations: ",l);var d=i.default(t,l);console.log("Color scheme: ",d);var h=new a.Coordinates(n.height,n.width,u.centerX,u.centerY,u.width);console.log("Coordinates: ",h);var f=new s.Mandelbrot(l);console.log("Engine: ",f);var p=o.default(e,d,h,n.getContext("2d"),f);return console.log("Algorithm: ",p),new c.Image(p,h,f,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(5),r=n(7);t.default=function(e,t){switch(e){case i.ColorSchemeType.RGB:return new o.Hsl(t,300,150,1,.5);case i.ColorSchemeType.Greyscale:return new r.Greyscale(t,100,50)}throw new Error("Invalid color scheme type: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=function(){function e(e,t,n,i,o){this.maxIterations=e,this.cycleLength=t,this.hueOffset=n,this.saturation=i,this.luminosity=o}return e.prototype.getColor=function(e){if(e>=this.maxIterations)return[0,0,0,255];var t=i.default((e+this.hueOffset)%this.cycleLength/this.cycleLength,this.saturation,this.luminosity);return t.push(255),t},e}();t.Hsl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i,o,r;if(0==t)return[Math.round(255*n),Math.round(255*n),Math.round(255*n)];var a=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},c=n<.5?n*(1+t):n+t-n*t,s=2*n-c;return i=a(s,c,e+1/3),o=a(s,c,e),r=a(s,c,e-1/3),[Math.round(255*i),Math.round(255*o),Math.round(255*r)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.maxIterations=e,this.cycleLength=t,this.offset=n}return e.prototype.getColor=function(e){if(e>=this.maxIterations)return[0,0,0,255];var t=Math.abs((e+this.offset)%(2*this.cycleLength)/this.cycleLength-1),n=Math.floor(200*t)+35;return[n,n,n,255]},e}();t.Greyscale=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(9),r=n(10);t.default=function(e,t,n,a,c){switch(e){case i.AlgorithmType.LineByLine:var s=new o.LineByLine(t,n,a,c);return new r.TimedAlgorithm(s)}throw new Error("Invalid algorithm type: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){this.colorScheme=e,this.coordinates=t,this.context=n,this.engine=i}return e.prototype.draw=function(e){var t=this,n=this.context.createImageData(this.coordinates.pixelWidth,1),i=(new Date).getTime(),o=0,r=this.coordinates.pixelHeight,a=function(){if(t.drawLine(n,t.colorScheme,t.coordinates,t.engine,o),t.context.putImageData(n,0,o),++o>r)return e();(new Date).getTime()-i>1e3?(i=(new Date).getTime(),setTimeout(a,0)):a()};a()},e.prototype.drawLine=function(e,t,n,i,o){for(var r=0,a=0;a<n.pixelWidth;a++){var c=n.getXCoordinate(a),s=n.getYCoordinate(o),u=i.calculateEscapeDepth(c,s),l=t.getColor(u);e.data[r++]=l[0],e.data[r++]=l[1],e.data[r++]=l[2],e.data[r++]=l[3]}},e}();t.LineByLine=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.algorithm=e,this.milliseconds=0}return e.prototype.draw=function(e){var t=this,n=(new Date).getTime();this.algorithm.draw((function(){var i=(new Date).getTime();t.milliseconds=i-n,e()}))},e}();t.TimedAlgorithm=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Math.log10(e),n=t*t*100+80;return Math.floor(Math.max(n,100))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,o){this.pixelHeight=e,this.pixelWidth=t,this.centerX=n,this.centerY=i,this.width=o,this.increment=o/t}return e.prototype.getXCoordinate=function(e){return this.centerX-this.width/2+e*this.increment},e.prototype.getYCoordinate=function(e){return this.centerY+this.pixelHeight*this.increment/2-e*this.increment},e}();t.Coordinates=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=function(){function e(e,t,n,i){this.algorithm=e,this.coordinates=t,this.engine=n,this.maxIterations=i}return e.prototype.calculateEscapeDepth=function(e,t){return this.engine.calculateEscapeDepth(this.coordinates.getXCoordinate(e),this.coordinates.getYCoordinate(t))},e.prototype.generate=function(){var e=this;i.preDrawUpdate(this),this.algorithm.draw((function(){i.postDrawUpdate(e)}))},e.prototype.getRenderingTime=function(){return this.algorithm.milliseconds},e}();t.Image=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15);function o(e){document.getElementById("rendering-time").textContent=(e.getRenderingTime()/1e3).toPrecision(2)+" sec.",document.getElementById("pixels-per-second").textContent=i.default(1e3*e.coordinates.pixelWidth*e.coordinates.pixelHeight/e.getRenderingTime())}t.preDrawUpdate=function(e){document.getElementById("max-iterations").textContent=e.maxIterations.toString(),document.getElementById("reset").onclick=function(){window.location.search=""};var t=document.getElementById("enlarge");t.onclick=function(){window.location.search="center="+parseFloat(t.getAttribute("data-xcenter"))+","+parseFloat(t.getAttribute("data-ycenter"))+"&width="+parseFloat(t.getAttribute("data-width"))};var n,i=document.getElementById("magnification"),o=5/e.coordinates.width;n=o<1e6?Math.floor(o):o.toExponential(3),i.textContent=n},t.postDrawUpdate=function(e){o(e)},t.updateRenderStatistics=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Math.abs(e);if(t<1e3)return e.toString();var n=e<0?"-":"",i=Math.floor(Math.log10(t)/3);return n+(t/Math.pow(1e3,i)).toFixed(3)+" "+["","K","M","B","T"][i]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){if(this.maxIterations=e,this.maxIterations<1)throw new Error("Invalid number of max iterations: "+this.maxIterations)}return e.prototype.calculateEscapeDepth=function(e,t){for(var n=0,i=0,o=0,r=0,a=0;a<this.maxIterations&&i+r<=4;){var c=2*n*o+t;i=(n=n*n-o*o+e)*n,r=(o=c)*o,a++}return a},e}();t.Mandelbrot=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerSelectionBoxHandlers=function(e,t){var n=e.getContext("2d"),i=null;e.onmousedown=function(e){null===i&&(console.log("Starting selection box at:",e.clientX,e.clientY),i=[e.clientX,e.clientY,null,null])};var o=document.getElementById("coordinates"),r=document.getElementById("depth");e.onmousemove=function(e){null!==i&&(n.clearRect(0,0,window.innerWidth,window.innerHeight),n.lineWidth=1,n.strokeStyle="#F8F8F8",i[2]=e.clientX,i[3]=e.clientY,n.strokeRect(i[0],i[1],i[2]-i[0],i[3]-i[1]));var a=Math.max(6,Math.floor(3+Math.log10(5/t.coordinates.width)));o.textContent=t.coordinates.getXCoordinate(e.clientX).toFixed(a)+" + "+t.coordinates.getYCoordinate(e.clientY).toFixed(a)+"i",r.textContent=t.calculateEscapeDepth(e.clientX,e.clientY).toString()};var a=document.getElementById("enlarge");e.onmouseup=function(e){console.log("Stopping selection box at:",e.clientX,e.clientY);var n=t.coordinates.getXCoordinate(Math.min(i[0],i[2])),o=t.coordinates.getYCoordinate(Math.min(i[1],i[3])),r=t.coordinates.getXCoordinate(Math.max(i[0],i[2])),c=t.coordinates.getYCoordinate(Math.max(i[1],i[3]));a.setAttribute("data-width",(r-n).toString()),a.setAttribute("data-xcenter",((n+r)/2).toString()),a.setAttribute("data-ycenter",((o+c)/2).toString()),i=null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.centerX=-.5,this.centerY=0,this.width=5}return e.prototype.parseQueryParameters=function(e){var t=e.replace("?","").split("&");console.log("Query parameters",t);for(var n=0;n<t.length;n++){var i=t[n].split("="),o=i[1];switch(i[0]){case"center":var r=o.split(",");this.centerX=parseFloat(r[0]),this.centerY=parseFloat(r[1]);break;case"width":this.width=parseFloat(o)}}},e}();t.ParameterHandler=i}]);