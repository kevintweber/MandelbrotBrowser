!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.RGB=0]="RGB",e[e.Greyscale=1]="Greyscale"}(t.ColorSchemeType||(t.ColorSchemeType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LineByLine=0]="LineByLine"}(t.AlgorithmType||(t.AlgorithmType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(17),o=n(1),a=n(0),c=n(18),s=document.getElementById("mandelbrot");s.height=window.innerHeight,s.width=window.innerWidth;var u=document.getElementById("selection");u.height=window.innerHeight,u.width=window.innerWidth;var l=new c.ParameterHandler;l.parseQueryParameters(window.location.search);var d=r.default(o.AlgorithmType.LineByLine,a.ColorSchemeType.RGB,s,l);i.registerSelectionBoxHandlers(u,d),d.generate()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(8),o=n(11),a=n(12),c=n(13),s=n(16);t.default=function(e,t,n,u){var l=o.default(u.width);console.log("Max iterations: ",l);var d=r.default(t,l);console.log("Color scheme: ",d);var h=new a.Coordinates(n.height,n.width,u.centerX,u.centerY,u.width);console.log("Coordinates: ",h);var f=new s.Mandelbrot(l);console.log("Engine: ",f);var p=i.default(e,d,h,n.getContext("2d"),f);return console.log("Algorithm: ",p),new c.Image(p,h,f,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),o=n(7);t.default=function(e,t){switch(e){case r.ColorSchemeType.RGB:return new i.Hsl(t,300,150,1,.5);case r.ColorSchemeType.Greyscale:return new o.Greyscale(t,100,50)}throw new Error("Invalid color scheme type: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function e(e,t,n,r,i){this.maxIterations=e,this.cycleLength=t,this.hueOffset=n,this.saturation=r,this.luminosity=i}return e.prototype.getColor=function(e){if(e>=this.maxIterations)return[0,0,0,255];var t=r.default((e+this.hueOffset)%this.cycleLength/this.cycleLength,this.saturation,this.luminosity);return t.push(255),t},e}();t.Hsl=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,i,o;if(0==t)return[Math.round(255*n),Math.round(255*n),Math.round(255*n)];var a=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},c=n<.5?n*(1+t):n+t-n*t,s=2*n-c;return r=a(s,c,e+1/3),i=a(s,c,e),o=a(s,c,e-1/3),[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.maxIterations=e,this.cycleLength=t,this.offset=n}return e.prototype.getColor=function(e){if(e>=this.maxIterations)return[0,0,0,255];var t=Math.abs((e+this.offset)%(2*this.cycleLength)/this.cycleLength-1),n=Math.floor(200*t)+35;return[n,n,n,255]},e}();t.Greyscale=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9),o=n(10);t.default=function(e,t,n,a,c){switch(e){case r.AlgorithmType.LineByLine:var s=new i.LineByLine(t,n,a,c);return new o.TimedAlgorithm(s)}throw new Error("Invalid algorithm type: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.colorScheme=e,this.coordinates=t,this.context=n,this.engine=r}return e.prototype.draw=function(e){var t=this,n=this.context.createImageData(this.coordinates.pixelWidth,1),r=(new Date).getTime(),i=0,o=this.coordinates.pixelHeight,a=function(){if(t.drawLine(n,t.colorScheme,t.coordinates,t.engine,i),t.context.putImageData(n,0,i),++i>o)return e();(new Date).getTime()-r>1e3?(r=(new Date).getTime(),setTimeout(a,0)):a()};a()},e.prototype.drawLine=function(e,t,n,r,i){for(var o=0,a=0;a<n.pixelWidth;a++){var c=n.getXCoordinate(a),s=n.getYCoordinate(i),u=r.calculateEscapeDepth(c,s),l=t.getColor(u);e.data[o++]=l[0],e.data[o++]=l[1],e.data[o++]=l[2],e.data[o++]=l[3]}},e}();t.LineByLine=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.algorithm=e,this.milliseconds=0}return e.prototype.draw=function(e){var t=this,n=(new Date).getTime();this.algorithm.draw((function(){var r=(new Date).getTime();t.milliseconds=r-n,e()}))},e}();t.TimedAlgorithm=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Math.log10(e),n=t*t*200;return Math.floor(Math.max(n,100))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.pixelHeight=e,this.pixelWidth=t,this.centerX=n,this.centerY=r,this.width=i,this.increment=i/t}return e.prototype.getXCoordinate=function(e){return this.centerX-this.width/2+e*this.increment},e.prototype.getYCoordinate=function(e){return this.centerY+this.pixelHeight*this.increment/2-e*this.increment},e}();t.Coordinates=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=function(){function e(e,t,n,r){this.algorithm=e,this.coordinates=t,this.engine=n,this.maxIterations=r}return e.prototype.calculateEscapeDepth=function(e,t){return this.engine.calculateEscapeDepth(this.coordinates.getXCoordinate(e),this.coordinates.getYCoordinate(t))},e.prototype.generate=function(){var e=this;r.preDrawUpdate(this),this.algorithm.draw((function(){r.postDrawUpdate(e)}))},e.prototype.getRenderingTime=function(){return this.algorithm.milliseconds},e}();t.Image=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);function i(e){document.getElementById("rendering-time").textContent=(e.getRenderingTime()/1e3).toPrecision(2),document.getElementById("pixels-per-second").textContent=r.default(1e3*e.coordinates.pixelWidth*e.coordinates.pixelHeight/e.getRenderingTime())}t.preDrawUpdate=function(e){document.getElementById("max-iterations").textContent=e.maxIterations.toString(),document.getElementById("reset").onclick=function(){window.location.search=""};var t=document.getElementById("enlarge");t.onclick=function(){window.location.search="center="+parseFloat(t.getAttribute("data-xcenter"))+","+parseFloat(t.getAttribute("data-ycenter"))+"&width="+parseFloat(t.getAttribute("data-width"))}},t.postDrawUpdate=function(e){i(e)},t.updateRenderStatistics=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Math.abs(e);if(t<1e3)return e.toString();var n=e<0?"-":"",r=Math.floor(Math.log10(t)/3);return n+(t/Math.pow(1e3,r)).toFixed(3)+" "+["","K","M","B","T"][r]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(this.maxIterations=e,this.maxIterations<1)throw new Error("Invalid number of max iterations: "+this.maxIterations)}return e.prototype.calculateEscapeDepth=function(e,t){for(var n=0,r=0,i=0,o=0,a=0;a<this.maxIterations&&r+o<=4;){var c=2*n*i+t;r=(n=n*n-i*i+e)*n,o=(i=c)*i,a++}return a},e}();t.Mandelbrot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerSelectionBoxHandlers=function(e,t){var n=e.getContext("2d"),r=null;e.onmousedown=function(e){null===r&&(console.log("Starting selection box at:",e.clientX,e.clientY),r=[e.clientX,e.clientY,null,null])};var i=document.getElementById("coordinates"),o=document.getElementById("depth");e.onmousemove=function(e){null!==r&&(n.clearRect(0,0,window.innerWidth,window.innerHeight),n.lineWidth=1,n.strokeStyle="#EEEEEE",r[2]=e.clientX,r[3]=e.clientY,n.strokeRect(r[0],r[1],r[2]-r[0],r[3]-r[1])),i.textContent=t.coordinates.getXCoordinate(e.clientX).toPrecision(8)+" + "+t.coordinates.getYCoordinate(e.clientY).toPrecision(8)+"i",o.textContent=t.calculateEscapeDepth(e.clientX,e.clientY).toString()};var a=document.getElementById("enlarge");e.onmouseup=function(e){console.log("Stopping selection box at:",e.clientX,e.clientY);var n=t.coordinates.getXCoordinate(Math.min(r[0],r[2])),i=t.coordinates.getYCoordinate(Math.min(r[1],r[3])),o=t.coordinates.getXCoordinate(Math.max(r[0],r[2])),c=t.coordinates.getYCoordinate(Math.max(r[1],r[3]));a.setAttribute("data-width",(o-n).toString()),a.setAttribute("data-xcenter",((n+o)/2).toString()),a.setAttribute("data-ycenter",((i+c)/2).toString()),r=null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.centerX=-.5,this.centerY=0,this.width=5}return e.prototype.parseQueryParameters=function(e){var t=e.replace("?","").split("&");console.log("Query parameters",t);for(var n=0;n<t.length;n++){var r=t[n].split("="),i=r[1];switch(r[0]){case"center":var o=i.split(",");this.centerX=parseFloat(o[0]),this.centerY=parseFloat(o[1]);break;case"width":this.width=parseFloat(i)}}},e}();t.ParameterHandler=r}]);